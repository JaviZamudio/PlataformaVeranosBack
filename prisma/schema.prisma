// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Admin {
  id_admin   Int     @id @default(autoincrement())
  username   String  @unique
  password   String
}

model Area {
  id_area   Int     @id @default(autoincrement())
  nombre    String
  color     String
  url       String?
  
  // Relación con la tabla Materia
  materias  Materia[]
}

model Materia {
  clave     Int     @id
  nombre    String
  semestre  Int
  id_area   Int
  
  // Relación con la tabla Area
  area      Area    @relation(fields: [id_area], references: [id_area])
  
  // Relación con la tabla Grupo
  grupos    Grupo[]
}

model Grupo {
  id_grupo      Int     @id @default(autoincrement())
  periodo       String
  hora_inicio   DateTime
  hora_fin      DateTime
  inscritos     Int
  costo         Float
  clave_materia Int
  
  // Relación con la tabla Materia
  materia       Materia @relation(fields: [clave_materia], references: [clave])
  
  // Relación con la tabla Solicitud
  solicitudes   Solicitud[]
}

model Solicitud {
  id_solicitud       Int     @id @default(autoincrement())
  expediente_alumno Int
  nombre_alumno     String
  ap_paterno         String
  ap_materno         String
  email_alumno      String
  id_grupo           Int
  
  // Relación con la tabla Grupo
  grupo              Grupo   @relation(fields: [id_grupo], references: [id_grupo])
}
